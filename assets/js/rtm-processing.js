!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var n=e.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(t.target).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==e(t.target).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.submit(function(t){function i(){var i;return n.settings.submitHandler?(n.submitButton&&(i=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(e(n.submitButton).val()).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&i.remove(),!1):!0}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)})),n)},valid:function(){var t,n;return e(this[0]).is("form")?t=this.validate().form():(t=!0,n=e(this[0].form).validate(),this.each(function(){t=n.element(this)&&t})),t},removeAttrs:function(t){var n={},i=this;return e.each(t.split(/\s/),function(e,t){n[t]=i.attr(t),i.removeAttr(t)}),n},rules:function(t,n){var i,r,a,s,o,u,l=this[0];if(t)switch(i=e.data(l.form,"validator").settings,r=i.rules,a=e.validator.staticRules(l),t){case"add":e.extend(a,e.validator.normalizeRule(n)),delete a.messages,r[l.name]=a,n.messages&&(i.messages[l.name]=e.extend(i.messages[l.name],n.messages));break;case"remove":return n?(u={},e.each(n.split(/\s/),function(t,n){u[n]=a[n],delete a[n],"required"===n&&e(l).removeAttr("aria-required")}),u):(delete r[l.name],a)}return s=e.validator.normalizeRules(e.extend({},e.validator.classRules(l),e.validator.attributeRules(l),e.validator.dataRules(l),e.validator.staticRules(l)),l),s.required&&(o=s.required,delete s.required,s=e.extend({required:o},s),e(l).attr("aria-required","true")),s.remote&&(o=s.remote,delete s.remote,s=e.extend(s,{remote:o})),s}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return 1===arguments.length?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return n})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).addClass(n).removeClass(i):e(t).addClass(n).removeClass(i)},unhighlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).removeClass(n).addClass(i):e(t).removeClass(n).addClass(i)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var n=e.data(this[0].form,"validator"),i="on"+t.type.replace(/^validate/,""),r=n.settings;r[i]&&!this.is(r.ignore)&&r[i].call(n,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.groups={};e.each(this.settings.groups,function(t,n){"string"==typeof n&&(n=n.split(/\s/)),e.each(n,function(e,n){i[n]=t})}),n=this.settings.rules,e.each(n,function(t,i){n[t]=e.validator.normalizeRule(i)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",t).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var n=this.clean(t),i=this.validationTargetFor(n),r=!0;return this.lastElement=i,void 0===i?delete this.invalid[n.name]:(this.prepareElement(i),this.currentElements=e(i),r=this.check(i)!==!1,r?delete this.invalid[i.name]:this.invalid[i.name]=!0),e(t).attr("aria-invalid",!r),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var n in t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,n=0;for(t in e)n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in n||!t.objectLength(e(this).rules())?!1:(n[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n,i=e(t),r=t.type;return"radio"===r||"checkbox"===r?e("input[name='"+t.name+"']:checked").val():"number"===r&&"undefined"!=typeof t.validity?t.validity.badInput?!1:i.val():(n=i.val(),"string"==typeof n?n.replace(/\r/g,""):n)},check:function(t){t=this.validationTargetFor(this.clean(t));var n,i,r,a=e(t).rules(),s=e.map(a,function(e,t){return t}).length,o=!1,u=this.elementValue(t);for(i in a){r={method:i,parameters:a[i]};try{if(n=e.validator.methods[i].call(this,u,t,r.parameters),"dependency-mismatch"===n&&1===s){o=!0;continue}if(o=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!n)return this.formatAndAdd(t,r),!1}catch(l){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+r.method+"' method.",l),l}}if(!o)return this.objectLength(a)&&this.successList.push(t),!0},customDataMessage:function(t,n){return e(t).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e];return void 0},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customDataMessage(t,n),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,n){var i=this.defaultMessage(t,n.method),r=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,n.parameters,t):r.test(i)&&(i=e.validator.format(i.replace(r,"{$1}"),n.parameters)),this.errorList.push({message:i,element:t,method:n.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,n;for(e=0;this.errorList[e];e++)n=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var i,r,a,s=this.errorsFor(t),o=this.idOrName(t),u=e(t).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(n)):(s=e("<"+this.settings.errorElement+">").attr("id",o+"-error").addClass(this.settings.errorClass).html(n||""),i=s,this.settings.wrapper&&(i=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement(i,e(t)):i.insertAfter(t),s.is("label")?s.attr("for",o):0===s.parents("label[for='"+o+"']").length&&(a=s.attr("id"),u?u.match(new RegExp("\b"+a+"\b"))||(u+=" "+a):u=a,e(t).attr("aria-describedby",u),r=this.groups[t.name],r&&e.each(this.groups,function(t,n){n===r&&e("[name='"+t+"']",this.currentForm).attr("aria-describedby",s.attr("id"))}))),!n&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,t)),this.toShow=this.toShow.add(s)},errorsFor:function(t){var n=this.idOrName(t),i=e(t).attr("aria-describedby"),r="label[for='"+n+"'], label[for='"+n+"'] *";return i&&(r=r+", #"+i.replace(/\s+/g,", #")),this.errors().filter(r)},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},i=e(t).attr("class");return i&&e.each(i.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},attributeRules:function(t){var n,i,r={},a=e(t),s=t.getAttribute("type");for(n in e.validator.methods)"required"===n?(i=t.getAttribute(n),""===i&&(i=!0),i=!!i):i=a.attr(n),/min|max/.test(n)&&(null===s||/number|range|text/.test(s))&&(i=Number(i)),i||0===i?r[n]=i:s===n&&"range"!==s&&(r[n]=!0);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(t){var n,i,r={},a=e(t);for(n in e.validator.methods)i=a.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()),void 0!==i&&(r[n]=i);return r},staticRules:function(t){var n={},i=e.data(t.form,"validator");return i.settings.rules&&(n=e.validator.normalizeRule(i.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(i,r){if(r===!1)return void delete t[i];if(r.param||r.depends){var a=!0;switch(typeof r.depends){case"string":a=!!e(r.depends,n.form).length;break;case"function":a=r.depends.call(n,n)}a?t[i]=void 0!==r.param?r.param:!0:delete t[i]}}),e.each(t,function(i,r){t[i]=e.isFunction(r)?r(n):r}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(n=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,i){e.validator.methods[t]=n,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var r=e(n).val();return r&&r.length>0}return this.checkable(n)?this.getLength(t,n)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n,i,r=0,a=0,s=!1;if(e=e.replace(/\D/g,""),e.length<13||e.length>19)return!1;for(n=e.length-1;n>=0;n--)i=e.charAt(n),a=parseInt(i,10),s&&(a*=2)>9&&(a-=9),r+=a,s=!s;return r%10===0},minlength:function(t,n,i){var r=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||r>=i},maxlength:function(t,n,i){var r=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i>=r},rangelength:function(t,n,i){var r=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||r>=i[0]&&r<=i[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||n>=e},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},equalTo:function(t,n,i){var r=e(i);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(n).valid()}),t===r.val()},remote:function(t,n,i){if(this.optional(n))return"dependency-mismatch";var r,a,s=this.previousValue(n);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),s.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=s.message,i="string"==typeof i&&{url:i}||i,s.old===t?s.valid:(s.old=t,r=this,this.startRequest(n),a={},a[n.name]=t,e.ajax(e.extend(!0,{url:i,mode:"abort",port:"validate"+n.name,dataType:"json",data:a,context:r.currentForm,success:function(i){var a,o,u,l=i===!0||"true"===i;r.settings.messages[n.name].remote=s.originalMessage,l?(u=r.formSubmitted,r.prepareElement(n),r.formSubmitted=u,r.successList.push(n),delete r.invalid[n.name],r.showErrors()):(a={},o=i||r.defaultMessage(n,"remote"),a[n.name]=s.message=e.isFunction(o)?o(t):o,r.invalid[n.name]=!0,r.showErrors(a)),s.valid=l,r.stopRequest(n,l)}},i)),"pending")}}}),e.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var t,n={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,i){var r=e.port;"abort"===e.mode&&(n[r]&&n[r].abort(),n[r]=i)}):(t=e.ajax,e.ajax=function(i){var r=("mode"in i?i:e.ajaxSettings).mode,a=("port"in i?i:e.ajaxSettings).port;return"abort"===r?(n[a]&&n[a].abort(),n[a]=t.apply(this,arguments),n[a]):t.apply(this,arguments)}),e.extend(e.fn,{validateDelegate:function(t,n,i){return this.bind(n,function(n){var r=e(n.target);return r.is(t)?i.apply(r,arguments):void 0})}})}),function(e){function t(){var e=document.createElement("input"),t="onpaste";return e.setAttribute(t,""),"function"==typeof e[t]?"paste":"input"}var n,i=t()+".mask",r=navigator.userAgent,a=/iphone/i.test(r),s=/android/i.test(r);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(n=this.createTextRange(),n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,r){var o,u,l,c,d,h;return!t&&this.length>0?(o=e(this[0]),o.data(e.mask.dataName)()):(r=e.extend({placeholder:e.mask.placeholder,completed:null},r),u=e.mask.definitions,l=[],c=h=t.length,d=null,e.each(t.split(""),function(e,t){"?"==t?(h--,c=e):u[t]?(l.push(new RegExp(u[t])),null===d&&(d=l.length-1)):l.push(null)}),this.trigger("unmask").each(function(){function o(e){for(;++e<h&&!l[e];);return e}function m(e){for(;--e>=0&&!l[e];);return e}function g(e,t){var n,i;if(!(0>e)){for(n=e,i=o(t);h>n;n++)if(l[n]){if(!(h>i&&l[n].test(w[i])))break;w[n]=w[i],w[i]=r.placeholder,i=o(i)}y(),S.caret(Math.max(d,e))}}function p(e){var t,n,i,a;for(t=e,n=r.placeholder;h>t;t++)if(l[t]){if(i=o(t),a=w[t],w[t]=n,!(h>i&&l[i].test(a)))break;n=a}}function f(e){var t,n,i,r=e.which;8===r||46===r||a&&127===r?(t=S.caret(),n=t.begin,i=t.end,i-n===0&&(n=46!==r?m(n):i=o(n-1),i=46===r?o(i):i),b(n,i),g(n,i-1),e.preventDefault()):27==r&&(S.val(D),S.caret(0,F()),e.preventDefault())}function v(t){var n,i,a,u=t.which,c=S.caret();t.ctrlKey||t.altKey||t.metaKey||32>u||u&&(c.end-c.begin!==0&&(b(c.begin,c.end),g(c.begin,c.end-1)),n=o(c.begin-1),h>n&&(i=String.fromCharCode(u),l[n].test(i)&&(p(n),w[n]=i,y(),a=o(n),s?setTimeout(e.proxy(e.fn.caret,S,a),0):S.caret(a),r.completed&&a>=h&&r.completed.call(S))),t.preventDefault())}function b(e,t){var n;for(n=e;t>n&&h>n;n++)l[n]&&(w[n]=r.placeholder)}function y(){S.val(w.join(""))}function F(e){var t,n,i=S.val(),a=-1;for(t=0,pos=0;h>t;t++)if(l[t]){for(w[t]=r.placeholder;pos++<i.length;)if(n=i.charAt(pos-1),l[t].test(n)){w[t]=n,a=t;break}if(pos>i.length)break}else w[t]===i.charAt(pos)&&t!==c&&(pos++,a=t);return e?y():c>a+1?(S.val(""),b(0,h)):(y(),S.val(S.val().substring(0,a+1))),c?t:d}var S=e(this),w=e.map(t.split(""),function(e,t){return"?"!=e?u[e]?r.placeholder:e:void 0}),D=S.val();S.data(e.mask.dataName,function(){return e.map(w,function(e,t){return l[t]&&e!=r.placeholder?e:null}).join("")}),S.attr("readonly")||S.one("unmask",function(){S.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){clearTimeout(n);var e;D=S.val(),e=F(),n=setTimeout(function(){y(),e==t.length?S.caret(0,e):S.caret(e)},10)}).bind("blur.mask",function(){F(),S.val()!=D&&S.change()}).bind("keydown.mask",f).bind("keypress.mask",v).bind(i,function(){setTimeout(function(){var e=F(!0);S.caret(e),r.completed&&e==S.val().length&&r.completed.call(S)},0)}),F()}))}})}(jQuery),function(){var e,t=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=jQuery,e.fn.validateCreditCard=function(n,i){var r,a,s,o,u,l,c,d,h,m,g,p;for(s=[{name:"amex",pattern:/^3[47]/,valid_length:[15]},{name:"diners_club_carte_blanche",pattern:/^30[0-5]/,valid_length:[14]},{name:"diners_club_international",pattern:/^36/,valid_length:[14]},{name:"jcb",pattern:/^35(2[89]|[3-8][0-9])/,valid_length:[16]},{name:"laser",pattern:/^(6304|670[69]|6771)/,valid_length:[16,17,18,19]},{name:"visa_electron",pattern:/^(4026|417500|4508|4844|491(3|7))/,valid_length:[16]},{name:"visa",pattern:/^4/,valid_length:[16]},{name:"mastercard",pattern:/^5[1-5]/,valid_length:[16]},{name:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,valid_length:[12,13,14,15,16,17,18,19]},{name:"discover",pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,valid_length:[16]}],null==i&&(i={}),null==i.accept&&(i.accept=function(){var e,t,n;for(n=[],e=0,t=s.length;t>e;e++)r=s[e],n.push(r.name);return n}()),m=i.accept,u=0,d=m.length;d>u;u++)if(a=m[u],t.call(function(){var e,t,n;for(n=[],e=0,t=s.length;t>e;e++)r=s[e],n.push(r.name);return n}(),a)<0)throw"Credit card type '"+a+"' is not supported";return o=function(e){var n,o,u;for(u=function(){var e,n,a,o;for(o=[],e=0,n=s.length;n>e;e++)r=s[e],a=r.name,t.call(i.accept,a)>=0&&o.push(r);return o}(),n=0,o=u.length;o>n;n++)if(a=u[n],e.match(a.pattern))return a;return null},c=function(e){var t,n,i,r,a,s;for(s=0,a=e.split("").reverse(),r=n=0,i=a.length;i>n;r=++n)t=a[r],t=+t,r%2?(t*=2,s+=10>t?t:t-9):s+=t;return s%10===0},l=function(e,n){var i;return i=e.length,t.call(n.valid_length,i)>=0},p=function(e){var t,i;return a=o(e),i=!1,t=!1,null!=a&&(i=c(e),t=l(e,a)),n({card_type:a,luhn_valid:i,length_valid:t})},g=function(){var t;return t=h(e(this).val()),p(t)},h=function(e){return e.replace(/[ -]/g,"")},this.bind("input",function(){return e(this).unbind("keyup"),g.call(this)}),this.bind("keyup",function(){return g.call(this)}),0!==this.length&&g.call(this),this}}.call(this),function(e){"use strict";function t(e){var t={};if(void 0===e.selectionStart){e.focus();var n=document.selection.createRange();t.length=n.text.length,n.moveStart("character",-e.value.length),t.end=n.text.length,t.start=t.end-t.length}else t.start=e.selectionStart,t.end=e.selectionEnd,t.length=t.end-t.start;return t}function n(e,t,n){if(void 0===e.selectionStart){e.focus();var i=e.createTextRange();i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i.select()}else e.selectionStart=t,e.selectionEnd=n}function i(t,n){e.each(n,function(e,i){"function"==typeof i?n[e]=i(t,n,e):"function"==typeof t.autoNumeric[i]&&(n[e]=t.autoNumeric[i](t,n,e))})}function r(e,t){"string"==typeof e[t]&&(e[t]*=1)}function a(e,t){i(e,t),t.oEvent=null,t.tagList=["B","CAPTION","CITE","CODE","DD","DEL","DIV","DFN","DT","EM","H1","H2","H3","H4","H5","H6","INS","KDB","LABEL","LI","OUTPUT","P","Q","S","SAMPLE","SPAN","STRONG","TD","TH","U","VAR"];var n=t.vMax.toString().split("."),a=t.vMin||0===t.vMin?t.vMin.toString().split("."):[];if(r(t,"vMax"),r(t,"vMin"),r(t,"mDec"),t.allowLeading=!0,t.aNeg=t.vMin<0?"-":"",n[0]=n[0].replace("-",""),a[0]=a[0].replace("-",""),t.mInt=Math.max(n[0].length,a[0].length,1),null===t.mDec){var s=0,o=0;n[1]&&(s=n[1].length),a[1]&&(o=a[1].length),t.mDec=Math.max(s,o)}null===t.altDec&&t.mDec>0&&("."===t.aDec&&","!==t.aSep?t.altDec=",":","===t.aDec&&"."!==t.aSep&&(t.altDec="."));var u=t.aNeg?"([-\\"+t.aNeg+"]?)":"(-?)";t.aNegRegAutoStrip=u,t.skipFirstAutoStrip=new RegExp(u+"[^-"+(t.aNeg?"\\"+t.aNeg:"")+"\\"+t.aDec+"\\d].*?(\\d|\\"+t.aDec+"\\d)"),t.skipLastAutoStrip=new RegExp("(\\d\\"+t.aDec+"?)[^\\"+t.aDec+"\\d]\\D*$");var l="-"+t.aNum+"\\"+t.aDec;return t.allowedAutoStrip=new RegExp("[^"+l+"]","gi"),t.numRegAutoStrip=new RegExp(u+"(?:\\"+t.aDec+"?(\\d+\\"+t.aDec+"\\d+)|(\\d*(?:\\"+t.aDec+"\\d*)?))"),t}function s(e,t,n){if(t.aSign)for(;e.indexOf(t.aSign)>-1;)e=e.replace(t.aSign,"");e=e.replace(t.skipFirstAutoStrip,"$1$2"),e=e.replace(t.skipLastAutoStrip,"$1"),e=e.replace(t.allowedAutoStrip,""),t.altDec&&(e=e.replace(t.altDec,t.aDec));var i=e.match(t.numRegAutoStrip);if(e=i?[i[1],i[2],i[3]].join(""):"",("allow"===t.lZero||"keep"===t.lZero)&&"strip"!==n){var r=[],a="";r=e.split(t.aDec),-1!==r[0].indexOf("-")&&(a="-",r[0]=r[0].replace("-","")),r[0].length>t.mInt&&"0"===r[0].charAt(0)&&(r[0]=r[0].slice(1)),e=a+r.join(t.aDec)}if(n&&"deny"===t.lZero||n&&"allow"===t.lZero&&t.allowLeading===!1){var s="^"+t.aNegRegAutoStrip+"0*(\\d"+("leading"===n?")":"|$)");s=new RegExp(s),e=e.replace(s,"$1$2")}return e}function o(e,t,n){return t=t.split(","),"set"===n||"focusout"===n?(e=e.replace("-",""),e=t[0]+e+t[1]):"get"!==n&&"focusin"!==n&&"pageLoad"!==n||e.charAt(0)!==t[0]||(e=e.replace(t[0],"-"),e=e.replace(t[1],"")),e}function u(e,t,n){if(t&&n){var i=e.split(t);i[1]&&i[1].length>n&&(n>0?(i[1]=i[1].substring(0,n),e=i.join(t)):e=i[0])}return e}function l(e,t,n){return t&&"."!==t&&(e=e.replace(t,".")),n&&"-"!==n&&(e=e.replace(n,"-")),e.match(/\d/)||(e+="0"),e}function c(e,t){var n=e.indexOf("."),i=+e;if(-1!==n)if(1e-6>i&&i>-1)e=+e,1e-6>e&&e>0&&(e=(e+10).toString(),e=e.substring(1)),0>e&&e>-1&&(e=(e-10).toString(),e="-"+e.substring(2)),e=e.toString();else{var r=e.split(".");void 0!==r[1]&&(0===+r[1]?e=r[0]:(r[1]=r[1].replace(/0*$/,""),e=r.join(".")))}return"keep"===t.lZero?e:e.replace(/^0*(\d)/,"$1")}function d(e,t,n){return n&&"-"!==n&&(e=e.replace("-",n)),t&&"."!==t&&(e=e.replace(".",t)),e}function h(t,n){t=s(t,n),t=u(t,n.aDec,n.mDec),t=l(t,n.aDec,n.aNeg);var i=+t;return"set"===n.oEvent&&(i<n.vMin||i>n.vMax)&&e.error("The value ("+i+") from the 'set' method falls outside of the vMin / vMax range"),i>=n.vMin&&i<=n.vMax}function m(e,t,n){return""===e||e===t.aNeg?"zero"===t.wEmpty?e+"0":"sign"===t.wEmpty||n?e+t.aSign:e:null}function g(e,t){e=s(e,t);var n=e.replace(",","."),i=m(e,t,!0);if(null!==i)return i;var r="";r=2===t.dGroup?/(\d)((\d)(\d{2}?)+)$/:4===t.dGroup?/(\d)((\d{4}?)+)$/:/(\d)((\d{3}?)+)$/;var a=e.split(t.aDec);t.altDec&&1===a.length&&(a=e.split(t.altDec));var u=a[0];if(t.aSep)for(;r.test(u);)u=u.replace(r,"$1"+t.aSep+"$2");if(0!==t.mDec&&a.length>1?(a[1].length>t.mDec&&(a[1]=a[1].substring(0,t.mDec)),e=u+t.aDec+a[1]):e=u,t.aSign){var l=-1!==e.indexOf(t.aNeg);e=e.replace(t.aNeg,""),e="p"===t.pSign?t.aSign+e:e+t.aSign,l&&(e=t.aNeg+e)}return"set"===t.oEvent&&0>n&&null!==t.nBracket&&(e=o(e,t.nBracket,t.oEvent)),e}function p(e,t){e=""===e?"0":e.toString(),r(t,"mDec");var n="",i=0,a="",s="boolean"==typeof t.aPad||null===t.aPad?t.aPad?t.mDec:0:+t.aPad,o=function(e){var t=0===s?/(\.[1-9]*)0*$/:1===s?/(\.\d[1-9]*)0*$/:new RegExp("(\\.\\d{"+s+"}[1-9]*)0*$");return e=e.replace(t,"$1"),0===s&&(e=e.replace(/\.$/,"")),e};"-"===e.charAt(0)&&(a="-",e=e.replace("-","")),e.match(/^\d/)||(e="0"+e),"-"===a&&0===+e&&(a=""),(+e>0&&"keep"!==t.lZero||e.length>0&&"allow"===t.lZero)&&(e=e.replace(/^0*(\d)/,"$1"));var u=e.lastIndexOf("."),l=-1===u?e.length-1:u,c=e.length-1-l;if(c<=t.mDec){if(n=e,s>c)for(-1===u&&(n+=".");s>c;){var d="000000".substring(0,s-c);n+=d,c+=d.length}else c>s?n=o(n):0===c&&0===s&&(n=n.replace(/\.$/,""));return a+n}var h=u+t.mDec,m=+e.charAt(h+1),g=e.substring(0,h+1).split(""),p="."===e.charAt(h)?e.charAt(h-1)%2:e.charAt(h)%2;if(m>4&&"S"===t.mRound||m>4&&"A"===t.mRound&&""===a||m>5&&"A"===t.mRound&&"-"===a||m>5&&"s"===t.mRound||m>5&&"a"===t.mRound&&""===a||m>4&&"a"===t.mRound&&"-"===a||m>5&&"B"===t.mRound||5===m&&"B"===t.mRound&&1===p||m>0&&"C"===t.mRound&&""===a||m>0&&"F"===t.mRound&&"-"===a||m>0&&"U"===t.mRound)for(i=g.length-1;i>=0;i-=1)if("."!==g[i]){if(g[i]=+g[i]+1,g[i]<10)break;i>0&&(g[i]="0")}return g=g.slice(0,h+1),n=o(g.join("")),0===+n?n:a+n}function f(t,n){this.settings=n,this.that=t,this.$that=e(t),this.formatted=!1,this.settingsClone=a(this.$that,this.settings),this.value=t.value}function v(t){return"string"==typeof t&&(t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),t="#"+t.replace(/(:|\.)/g,"\\$1")),
e(t)}function b(e,t,n){var i=e.data("autoNumeric");i||(i={},e.data("autoNumeric",i));var r=i.holder;return(void 0===r&&t||n)&&(r=new f(e.get(0),t),i.holder=r),r}f.prototype={init:function(e){this.value=this.that.value,this.settingsClone=a(this.$that,this.settings),this.ctrlKey=e.ctrlKey,this.cmdKey=e.metaKey,this.shiftKey=e.shiftKey,this.selection=t(this.that),("keydown"===e.type||"keyup"===e.type)&&(this.kdCode=e.keyCode),this.which=e.which,this.processed=!1,this.formatted=!1},setSelection:function(e,t,i){e=Math.max(e,0),t=Math.min(t,this.that.value.length),this.selection={start:e,end:t,length:t-e},(void 0===i||i)&&n(this.that,e,t)},setPosition:function(e,t){this.setSelection(e,e,t)},getBeforeAfter:function(){var e=this.value,t=e.substring(0,this.selection.start),n=e.substring(this.selection.end,e.length);return[t,n]},getBeforeAfterStriped:function(){var e=this.getBeforeAfter();return e[0]=s(e[0],this.settingsClone),e[1]=s(e[1],this.settingsClone),e},normalizeParts:function(e,t){var n=this.settingsClone;t=s(t,n);var i=t.match(/^\d/)?!0:"leading";e=s(e,n,i),""!==e&&e!==n.aNeg||"deny"!==n.lZero||t>""&&(t=t.replace(/^0*(\d)/,"$1"));var r=e+t;if(n.aDec){var a=r.match(new RegExp("^"+n.aNegRegAutoStrip+"\\"+n.aDec));a&&(e=e.replace(a[1],a[1]+"0"),r=e+t)}return"zero"!==n.wEmpty||r!==n.aNeg&&""!==r||(e+="0"),[e,t]},setValueParts:function(e,t){var n=this.settingsClone,i=this.normalizeParts(e,t),r=i.join(""),a=i[0].length;return h(r,n)?(r=u(r,n.aDec,n.mDec),a>r.length&&(a=r.length),this.value=r,this.setPosition(a,!1),!0):!1},signPosition:function(){var e=this.settingsClone,t=e.aSign,n=this.that;if(t){var i=t.length;if("p"===e.pSign){var r=e.aNeg&&n.value&&n.value.charAt(0)===e.aNeg;return r?[1,i+1]:[0,i]}var a=n.value.length;return[a-i,a]}return[1e3,-1]},expandSelectionOnSign:function(e){var t=this.signPosition(),n=this.selection;n.start<t[1]&&n.end>t[0]&&((n.start<t[0]||n.end>t[1])&&this.value.substring(Math.max(n.start,t[0]),Math.min(n.end,t[1])).match(/^\s*$/)?n.start<t[0]?this.setSelection(n.start,t[0],e):this.setSelection(t[1],n.end,e):this.setSelection(Math.min(n.start,t[0]),Math.max(n.end,t[1]),e))},checkPaste:function(){if(void 0!==this.valuePartsBeforePaste){var e=this.getBeforeAfter(),t=this.valuePartsBeforePaste;delete this.valuePartsBeforePaste,e[0]=e[0].substr(0,t[0].length)+s(e[0].substr(t[0].length),this.settingsClone),this.setValueParts(e[0],e[1])||(this.value=t.join(""),this.setPosition(t[0].length,!1))}},skipAllways:function(e){var t=this.kdCode,n=this.which,i=this.ctrlKey,r=this.cmdKey,a=this.shiftKey;if((i||r)&&"keyup"===e.type&&void 0!==this.valuePartsBeforePaste||a&&45===t)return this.checkPaste(),!1;if(t>=112&&123>=t||t>=91&&93>=t||t>=9&&31>=t||8>t&&(0===n||n===t)||144===t||145===t||45===t)return!0;if((i||r)&&65===t)return!0;if((i||r)&&(67===t||86===t||88===t))return"keydown"===e.type&&this.expandSelectionOnSign(),(86===t||45===t)&&("keydown"===e.type||"keypress"===e.type?void 0===this.valuePartsBeforePaste&&(this.valuePartsBeforePaste=this.getBeforeAfter()):this.checkPaste()),"keydown"===e.type||"keypress"===e.type||67===t;if(i||r)return!0;if(37===t||39===t){var s=this.settingsClone.aSep,o=this.selection.start,u=this.that.value;return"keydown"===e.type&&s&&!this.shiftKey&&(37===t&&u.charAt(o-2)===s?this.setPosition(o-1):39===t&&u.charAt(o+1)===s&&this.setPosition(o+1)),!0}return t>=34&&40>=t?!0:!1},processAllways:function(){var e;return 8===this.kdCode||46===this.kdCode?(this.selection.length?(this.expandSelectionOnSign(!1),e=this.getBeforeAfterStriped(),this.setValueParts(e[0],e[1])):(e=this.getBeforeAfterStriped(),8===this.kdCode?e[0]=e[0].substring(0,e[0].length-1):e[1]=e[1].substring(1,e[1].length),this.setValueParts(e[0],e[1])),!0):!1},processKeypress:function(){var e=this.settingsClone,t=String.fromCharCode(this.which),n=this.getBeforeAfterStriped(),i=n[0],r=n[1];return t===e.aDec||e.altDec&&t===e.altDec||("."===t||","===t)&&110===this.kdCode?e.mDec&&e.aDec?e.aNeg&&r.indexOf(e.aNeg)>-1?!0:i.indexOf(e.aDec)>-1?!0:r.indexOf(e.aDec)>0?!0:(0===r.indexOf(e.aDec)&&(r=r.substr(1)),this.setValueParts(i+e.aDec,r),!0):!0:"-"===t||"+"===t?e.aNeg?(""===i&&r.indexOf(e.aNeg)>-1&&(i=e.aNeg,r=r.substring(1,r.length)),i=i.charAt(0)===e.aNeg?i.substring(1,i.length):"-"===t?e.aNeg+i:i,this.setValueParts(i,r),!0):!0:t>="0"&&"9">=t?(e.aNeg&&""===i&&r.indexOf(e.aNeg)>-1&&(i=e.aNeg,r=r.substring(1,r.length)),e.vMax<=0&&e.vMin<e.vMax&&-1===this.value.indexOf(e.aNeg)&&"0"!==t&&(i=e.aNeg+i),this.setValueParts(i+t,r),!0):!0},formatQuick:function(){var e=this.settingsClone,t=this.getBeforeAfterStriped(),n=this.value;if((""===e.aSep||""!==e.aSep&&-1===n.indexOf(e.aSep))&&(""===e.aSign||""!==e.aSign&&-1===n.indexOf(e.aSign))){var i=[],r="";i=n.split(e.aDec),i[0].indexOf("-")>-1&&(r="-",i[0]=i[0].replace("-",""),t[0]=t[0].replace("-","")),i[0].length>e.mInt&&"0"===t[0].charAt(0)&&(t[0]=t[0].slice(1)),t[0]=r+t[0]}var a=g(this.value,this.settingsClone),s=a.length;if(a){var o=t[0].split(""),u=0;for(u;u<o.length;u+=1)o[u].match("\\d")||(o[u]="\\"+o[u]);var l=new RegExp("^.*?"+o.join(".*?")),c=a.match(l);c?(s=c[0].length,(0===s&&a.charAt(0)!==e.aNeg||1===s&&a.charAt(0)===e.aNeg)&&e.aSign&&"p"===e.pSign&&(s=this.settingsClone.aSign.length+("-"===a.charAt(0)?1:0))):e.aSign&&"s"===e.pSign&&(s-=e.aSign.length)}this.that.value=a,this.setPosition(s),this.formatted=!0}};var y={init:function(t){return this.each(function(){var i=e(this),r=i.data("autoNumeric"),a=i.data();if("object"==typeof r)return this;var u={aNum:"0123456789",aSep:",",dGroup:"3",aDec:".",altDec:null,aSign:"",pSign:"p",vMax:"999999999.99",vMin:"0.00",mDec:null,mRound:"S",aPad:!0,nBracket:null,wEmpty:"empty",lZero:"allow",aForm:!0,onSomeEvent:function(){}};if(r=e.extend({},u,a,t),r.aDec===r.aSep)return e.error("autoNumeric will not function properly when the decimal character aDec: '"+r.aDec+"' and thousand separator aSep: '"+r.aSep+"' are the same character"),this;i.data("autoNumeric",r),r.lastSetValue="",r.runOnce=!1;var c=b(i,r);if(-1===e.inArray(i.prop("tagName"),r.tagList)&&"INPUT"!==i.prop("tagName"))return e.error("The <"+i.prop("tagName")+"> is not supported by autoNumeric()"),this;if(r.runOnce===!1&&r.aForm){if(i.is("input[type=text], input[type=hidden], input:not([type])")){var f=!0;""===i[0].value&&"empty"===r.wEmpty&&(i[0].value="",f=!1),""===i[0].value&&"sign"===r.wEmpty&&(i[0].value=r.aSign,f=!1),f&&i.autoNumeric("set",i.val())}-1!==e.inArray(i.prop("tagName"),r.tagList)&&""!==i.text()&&i.autoNumeric("set",i.text())}r.runOnce=!0,i.is("input[type=text], input[type=hidden], input:not([type])")&&(i.on("keydown.autoNumeric",function(t){return c=b(i),c.settings.aDec===c.settings.aSep?(e.error("autoNumeric will not function properly when the decimal character aDec: '"+c.settings.aDec+"' and thousand separator aSep: '"+c.settings.aSep+"' are the same character"),this):c.that.readOnly?(c.processed=!0,!0):(c.init(t),c.settings.oEvent="keydown",c.skipAllways(t)?(c.processed=!0,!0):c.processAllways()?(c.processed=!0,c.formatQuick(),t.preventDefault(),!1):(c.formatted=!1,!0))}),i.on("keypress.autoNumeric",function(e){var t=b(i),n=t.processed;return t.init(e),t.settings.oEvent="keypress",t.skipAllways(e)?!0:n?(e.preventDefault(),!1):t.processAllways()||t.processKeypress()?(t.formatQuick(),e.preventDefault(),!1):void(t.formatted=!1)}),i.on("keyup.autoNumeric",function(e){var t=b(i);t.init(e),t.settings.oEvent="keyup";var r=t.skipAllways(e);return t.kdCode=0,delete t.valuePartsBeforePaste,i[0].value===t.settings.aSign&&("s"===t.settings.pSign?n(this,0,0):n(this,t.settings.aSign.length,t.settings.aSign.length)),r?!0:""===this.value?!0:void(t.formatted||t.formatQuick())}),i.on("focusin.autoNumeric",function(){var e=b(i);if(e.settingsClone.oEvent="focusin",null!==e.settingsClone.nBracket){var t=i.val();i.val(o(t,e.settingsClone.nBracket,e.settingsClone.oEvent))}e.inVal=i.val();var r=m(e.inVal,e.settingsClone,!0);null!==r&&(i.val(r),"s"===e.settings.pSign?n(this,0,0):n(this,e.settings.aSign.length,e.settings.aSign.length))}),i.on("focusout.autoNumeric",function(){var e=b(i),t=e.settingsClone,n=i.val(),r=n;e.settingsClone.oEvent="focusout";var a="";"allow"===t.lZero&&(t.allowLeading=!1,a="leading"),""!==n&&(n=s(n,t,a),null===m(n,t)&&h(n,t,i[0])?(n=l(n,t.aDec,t.aNeg),n=p(n,t),n=d(n,t.aDec,t.aNeg)):n="");var u=m(n,t,!1);null===u&&(u=g(n,t)),u!==r&&i.val(u),u!==e.inVal&&(i.change(),delete e.inVal),null!==t.nBracket&&i.autoNumeric("get")<0&&(e.settingsClone.oEvent="focusout",i.val(o(i.val(),t.nBracket,t.oEvent)))}))})},destroy:function(){return e(this).each(function(){var t=e(this);t.off(".autoNumeric"),t.removeData("autoNumeric")})},update:function(t){return e(this).each(function(){var n=v(e(this)),i=n.data("autoNumeric");if("object"!=typeof i)return e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'update' method"),this;var r=n.autoNumeric("get");return i=e.extend(i,t),b(n,i,!0),i.aDec===i.aSep?(e.error("autoNumeric will not function properly when the decimal character aDec: '"+i.aDec+"' and thousand separator aSep: '"+i.aSep+"' are the same character"),this):(n.data("autoNumeric",i),""!==n.val()||""!==n.text()?n.autoNumeric("set",r):void 0)})},set:function(t){return e(this).each(function(){var n=v(e(this)),i=n.data("autoNumeric"),r=t.toString(),a=t.toString();return"object"!=typeof i?(e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'set' method"),this):(a!==n.attr("value")&&a!==n.text()||i.runOnce!==!1||(r=r.replace(",",".")),a!==n.attr("value")&&"INPUT"===n.prop("tagName")&&i.runOnce===!1&&(r=s(r,i)),e.isNumeric(+r)?(r=c(r,i),i.oEvent="set",i.lastSetValue=r,r.toString(),""!==r&&(r=p(r,i)),r=d(r,i.aDec,i.aNeg),h(r,i)||(r=p("",i)),r=g(r,i),n.is("input[type=text], input[type=hidden], input:not([type])")?n.val(r):-1!==e.inArray(n.prop("tagName"),i.tagList)?n.text(r):(e.error("The <"+n.prop("tagName")+"> is not supported by autoNumeric()"),!1)):"")})},get:function(){var t=v(e(this)),n=t.data("autoNumeric");if("object"!=typeof n)return e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'get' method"),this;n.oEvent="get";var i="";if(t.is("input[type=text], input[type=hidden], input:not([type])"))i=t.eq(0).val();else{if(-1===e.inArray(t.prop("tagName"),n.tagList))return e.error("The <"+t.prop("tagName")+"> is not supported by autoNumeric()"),!1;i=t.eq(0).text()}return""===i&&"empty"===n.wEmpty||i===n.aSign&&("sign"===n.wEmpty||"empty"===n.wEmpty)?"":(null!==n.nBracket&&""!==i&&(i=o(i,n.nBracket,n.oEvent)),(n.runOnce||n.aForm===!1)&&(i=s(i,n)),i=l(i,n.aDec,n.aNeg),0===+i&&"keep"!==n.lZero&&(i="0"),"keep"===n.lZero?i:i=c(i,n))},getString:function(){var t=!1,n=v(e(this)),i=n.serialize(),r=i.split("&"),a=0;for(a;a<r.length;a+=1){var s=r[a].split("="),o=e('*[name="'+decodeURIComponent(s[0])+'"]').data("autoNumeric");"object"==typeof o&&null!==s[1]&&void 0!==e('*[name="'+decodeURIComponent(s[0])+'"]').data("autoNumeric")&&(s[1]=e('input[name="'+decodeURIComponent(s[0])+'"]').autoNumeric("get"),r[a]=s.join("="),t=!0)}return t===!0?r.join("&"):(e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getString' method"),this)},getArray:function(){var t=!1,n=v(e(this)),i=n.serializeArray();return e.each(i,function(n,i){var r=e('*[name="'+decodeURIComponent(i.name)+'"]').data("autoNumeric");"object"==typeof r&&(""!==i.value&&void 0!==e('*[name="'+decodeURIComponent(i.name)+'"]').data("autoNumeric")&&(i.value=e('input[name="'+decodeURIComponent(i.name)+'"]').autoNumeric("get").toString()),t=!0)}),t===!0?i:(e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getArray' method"),this)},getSettings:function(){var t=v(e(this));return t.eq(0).data("autoNumeric")}};e.fn.autoNumeric=function(t){return y[t]?y[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error('Method "'+t+'" is not supported by autoNumeric()'):y.init.apply(this,arguments)}}(jQuery),function(){window.guid=function(){var e;return e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()}}(),$(function(){var e;return e=guid(),$("#contribution_form").prepend('<input type="hidden" id="litle_paypage_registration_id" name="contributor[response_paypage_registration_id]">').prepend('<input type="hidden" id="litle_code" name="contributor[response_code]">').prepend('<input type="hidden" id="litle_bin" name="response_bin">').prepend('<input type="hidden" id="litle_message" name="response_message">').prepend('<input type="hidden" id="litle_response_time" name="response_response_time">').prepend('<input type="hidden" id="litle_type" name="response_type">').prepend('<input type="hidden" id="litle_litle_txn_id" name="response_litle_txn_id">'),window.Litle={getRequestFields:{paypageId:"eBCwKqCow6gjw9AK",reportGroup:"*merchant1500",orderId:e,id:e,url:"https://request.eprotect.vantivcnp.com"},getFormFields:{accountNum:$("#contributor_cc_number").get(0),cvv2:$("#contributor_cc_cvv").get(0),paypageRegistrationId:$("#litle_paypage_registration_id").get(0),bin:$("#litle_bin").get(0)},onSuccess:function(e){return $("#litle_code").val(e.response),$("#litle_message").val(e.message),$("#litle_response_time").val(e.responseTime),$("#litle_litle_txn_id").val(e.litleTxnId),$("#litle_type").val(e.type),Litle.removeTokenizedFields(),processContribution()},removeTokenizedFields:function(){return $("#contributor_cc_number").val("*****"+ccNumberLast4).prop("disabled",!0),$("#contributor_cc_cvv").val("***").prop("disabled",!0)},onTimeout:function(){return setErrorMessage("Hmm... we are having some trouble processing your card. Please try again.")},onError:function(e){return setErrorMessage("Hmm... we are having some trouble processing your card. Please try again.")}},window.tokenizeCard=function(){return $.getScript("https://request.eprotect.vantivcnp.com/eProtect/litle-api2.js",function(){var e,t;return t=$("#contributor_cc_number"),e=t.val(),window.ccNumberLast4=e.substr(e.length-4),$('<input type="hidden" name="contributor[cc_number_last4]">').insertAfter(t).val(ccNumberLast4),$("#contributor_cc_number").validateCreditCard(function(e){return window.cardType=e.card_type.name},{accept:["visa","mastercard","discover","amex"]}),$('<input type="hidden" name="contributor[cc_type]">').insertAfter(t).val(cardType),(new LitlePayPage).sendToLitle(Litle.getRequestFields,Litle.getFormFields,Litle.onSuccess,Litle.onError,Litle.onTimeout,1500)}).fail(function(){return setErrorMessage("Hmm... we are having some trouble processing your card. Please try again.")})}})}.call(this),function(){$(function(){var e,t;return e=$('input[name="contributor[payment_method_choice]"]'),t=function(){return"ach"===e.filter(":checked").val()?($(".ach-fields").show(),$(".card-fields").hide()):($(".ach-fields").hide(),$(".card-fields").show())},e.change(function(){return t()}).change(),window.setErrorMessage=function(e){return $("#contribution_form_errors").text(e).show(),$("#submit_contribution").val(submitButtonText).prop("disabled",!1)},$('[name="contributor[amount_other]"]').focus(function(){return $('input[name="contributor[amount]"][value="other"]').prop("checked",!0)}),window.processContribution=function(){var e;return e=$("#contribution_form"),$.post(e.attr("action"),e.serialize()).done(function(e){return window.location.href=$("#success_redirect_to").val()}).fail(function(e){return setErrorMessage(e.responseText)})},$("#contribution_form").validate({submitHandler:function(){var e;return e=$("#submit_contribution"),window.submitButtonText=e.val(),e.val(e.data("disable-with")),e.prop("disabled",!0),"card"===$('[name="contributor[payment_method_choice]"]:checked').val()?"870"===$("#litle_code").val()?processContribution():tokenizeCard():processContribution()},rules:{"contributor[first_name]":{required:!0},"contributor[last_name]":{required:!0},"contributor[email]":{required:!0,email:!0},"contributor[phone]":{required:!0},"contributor[address_1]":{required:!0},"contributor[city]":{required:!0},"contributor[state]":{required:!0},"contributor[zip]":{required:!0},"contributor[employer]":{required:!0},"contributor[occupation]":{required:!0},"contributor[routing_number]":{required:!0,digits:!0,minlength:9,maxlength:9},"contributor[account_number]":{required:!0,digits:!0,minlength:4,maxlength:17},"contributor[cc_number]":{required:!0,creditcard:!0},"contributor[cc_expiration]":{required:!0},"contributor[cc_cvv]":{required:!0,digits:!0,minlength:3,maxlength:4},"contributor[amount_choice]":{required:!0},"contributor[amount_other]":{required:{depends:function(e){return"other"===$('[name="contributor[amount_choice]"]:checked').val()}}},"contributor[recurring]":{required:!0}}}),$.mask.definitions.M="[0-1]",$('[name="contributor[phone]"]').mask("(999) 999-9999"),$('[name="contributor[zip]"]').mask("99999?-9999"),$('[name="contributor[cc_expiration]"]').mask("M9/99"),$('[name="contributor[amount_other]"]').autoNumeric("init",{aSign:"$",mDec:"0",vMax:"999999"}),0===$('[name="contributor[occupation]"]').length&&$("#contribution_form").prepend('<input value="true" type="hidden" name="contributor[disable_employer_fields]" id="contributor_disable_employer_fields" />'),0===$('[name="contributor[address_1]"]').length?$("#contribution_form").prepend('<input value="true" type="hidden" name="contributor[disable_address_fields]" id="contributor_disable_address_fields" />'):void 0})}.call(this);
